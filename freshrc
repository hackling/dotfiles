##### Bash
#

fresh JonathonMA/dotfiles shell/noninteractive.sh


fresh freshshell/fresh contrib/source-build.sh --file=~/.bashrc
fresh junegunn/fzf shell/key-bindings.bash
fresh junegunn/fzf shell/completion.bash

#fresh asdf-vm/asdf asdf.sh
fresh chriskempson/base16-shell scripts/base16-solarized-dark.sh
fresh seebi/dircolors-solarized dircolors.ansi-dark --file=~/.dircolors
fresh shell/config/gnu_ls.sh

fresh JonathonMA/dotfiles shell/has_command_pre.sh
fresh JonathonMA/dotfiles shell/config/dircolors.sh
fresh JonathonMA/dotfiles shell/has_command_post.sh

fresh shell/fzf.sh
fresh shell/capslock-esc.sh
fresh shell/config/history.sh
fresh shell/git-completion.bash
fresh JonathonMA/dotfiles shell/config/prompt.sh

mkdir -p ~/.config
(cd "$FRESH_LOCAL"/xdg/config && find . -type d -exec mkdir -p ~/config/{} \;)
(cd "$FRESH_LOCAL"/xdg/config && find . -type f -not -name .keep -exec ln -sf "$FRESH_LOCAL"/xdg/config/{} ~/.config/{} \;)

# NVim

[ -d ~/.local/share/nvim/site/pack/packer/start/packer.nvim ] ||
  git clone --depth 1 https://github.com/wbthomason/packer.nvim \
  ~/.local/share/nvim/site/pack/packer/start/packer.nvim

fresh JonathonMA/dotfiles nvim/vimscript_before.lua --file=${XDG_CONFIG_HOME:-$HOME/.config}/nvim/lua/init_vim.lua
fresh-options --file=${XDG_CONFIG_HOME:-$HOME/.config}/nvim/lua/init_vim.lua --marker='"'
  fresh JonathonMA/dotfiles nvim/preamble.vim
  fresh JonathonMA/dotfiles nvim/leader.vim # Map leadering to ,
  fresh JonathonMA/dotfiles nvim/global.vim

  # Things that I've noticed are missing
  # - [x] Shift l to end of line
  # - [x] Leader a to select all
  # - [x] Leader y and Leader p to system copy and paste
  # - [ ] Highlight current word with leader H
  # - [ ] Display all instances of a highlighted word in quickfix
  # - [ ] Format for JSON
    # fresh jasoncodes/dotfiles vim/config/format.vim
  # - [x] Tab completion
    # fresh vim/config/completion.vim - Rewrote this from jasoncodes, but not working. Maybe just find a new neovim libary
  # - [ ] Sort a selection
   
  # My personal keybindings
  fresh vim/keybindings/clear-search.vim
  fresh vim/keybindings/clipboard.vim
  fresh vim/keybindings/close-quickfix.vim
  # fresh vim/keybindings/filename-to-clipboard.vim
  fresh vim/keybindings/select-all.vim
  fresh vim/keybindings/substitute.vim
  fresh vim/keybindings/swap-buffer.vim
  fresh vim/keybindings/jump_to_start_or_end_of_line.vim
  fresh vim/keybindings/visualblockindent.vim

  # Personal Configuration
  # fresh vim/config/colorscheme.vim # Delete
  fresh vim/config/line_numbering.vim
  # fresh vim/config/supertab-config.vim # Delete

  # Thse seem irrelevant now
  # fresh jasoncodes/dotfiles vim/plugins/ruby.vim <- Replaced by treesitter?
  # fresh jasoncodes/dotfiles vim/plugins/ctrlp.vim <- Replaced by Telescope
   
  # fresh vim/plugins/nerdtree.vim <- Replaced by nvim-tree
  # fresh vim/plugins/surround.vim # Replaced
  # fresh vim/plugins/tabular.vim # Replaced
  # fresh vim/plugins/vim-eunuch.vim # Replaced
   
  # fresh nathanaelkane/dotfiles nvim/plug_end.vim
  # fresh vim/finish.vim

  # Plugins I need to audit
  # fresh jasoncodes/dotfiles vim/config/bubbling.vim
  # fresh vim/plugins/file-line.vim # For opening vim a specific line number. Delete
  # fresh vim/plugins/slim.vim <- Probably for slim templating language which I don't use anymore
  # fresh vim/plugins/vim-expand-region.vim <- I can't remember what this is

  # Stuff stolen from Jon. I need to audit and add comments as to what these do
  fresh JonathonMA/dotfiles nvim/config/case.vim
  fresh JonathonMA/dotfiles nvim/config/cursorline.vim
  fresh JonathonMA/dotfiles nvim/config/ffs.vim
  fresh JonathonMA/dotfiles nvim/config/filetypes.vim # Probably want to modify this one
  fresh JonathonMA/dotfiles nvim/config/fold.vim
  fresh JonathonMA/dotfiles nvim/config/listchars.vim
  fresh JonathonMA/dotfiles nvim/config/mouse.vim # Might want to look at the copy method here
  # fresh JonathonMA/dotfiles nvim/config/org.vim
  # fresh JonathonMA/dotfiles nvim/config/todo-comments.vim
  fresh JonathonMA/dotfiles nvim/config/updatetime.vim # Might not need this
  fresh JonathonMA/dotfiles nvim/config/xdg-swap.vim

  fresh jasoncodes/dotfiles vim/config/auto_mkdir.vim
  fresh JonathonMA/dotfiles nvim/exrc.vim # Probably don't need this
  fresh JonathonMA/dotfiles nvim/vimscript_after.lua
fresh-options

fresh-options --file=${XDG_CONFIG_HOME:-$HOME/.config}/nvim/init.lua --marker='--'
  fresh JonathonMA/dotfiles nvim/init.lua
fresh-options

fresh-options --file=${XDG_CONFIG_HOME:-$HOME/.config}/nvim/lua/plugins.lua --marker="--"
  fresh JonathonMA/dotfiles nvim/packer_before.lua
  fresh JonathonMA/dotfiles nvim/packer.lua

  # Nick's Plugins (or stolen from Jon and tweaked)
  fresh vim/nvim/treesitter.lua # Syntax Highlighting
  fresh vim/nvim/themer.lua # Color Theme stuff (namely to get Jellybeans)
  fresh vim/nvim/nvim-tree.lua # File Tree Explorer
  fresh vim/nvim/telescope.lua # Ctrl+P replacement. For looking at files
  fresh vim/plugins/easy-motion.vim # Move around the screen quickly
  fresh vim/plugins/easycommenting.vim # Commenting easily
  fresh vim/plugins/indent-guides.vim # Indent Guides
  # fresh vim/plugins/rainbow-csv.vim # I think Treesitter, or Polyglot obselete this
  # fresh vim/plugins/search.vim # Should investigate a replacement. For searching words accross files.

  fresh JonathonMA/dotfiles nvim/packer/ale.lua # Code parsing etc
  # fresh JonathonMA/dotfiles nvim/packer/base16.lua
  # fresh JonathonMA/dotfiles nvim/packer/bufexplorer.lua
  # fresh JonathonMA/dotfiles nvim/packer/endwise.lua # When you add an if, it adds and end
  fresh JonathonMA/dotfiles nvim/packer/eunuch.lua # :Remove, :Delete, etc
  fresh JonathonMA/dotfiles nvim/packer/fetch.lua # Allows you to open vim at a specific line number
  # fresh JonathonMA/dotfiles nvim/packer/git.lua # Git gutter stuff
  fresh vim/nvim/git.lua # Git gutter stuff
  # fresh JonathonMA/dotfiles nvim/packer/limelight.lua # Dims unfocused codeblocks. Turns on with :Limelight
  fresh JonathonMA/dotfiles nvim/packer/lualine.lua # Powerline replacement
  # fresh JonathonMA/dotfiles nvim/packer/plenary.lua # Already comes in with Telescope
  fresh JonathonMA/dotfiles nvim/packer/polyglot.lua # Tools for loads of languages
  # fresh JonathonMA/dotfiles nvim/packer/prettier.lua # Javascript formatter stuff.
  fresh JonathonMA/dotfiles nvim/packer/rails.lua # Rails helpers and formatting?
  # fresh JonathonMA/dotfiles nvim/packer/renamer.lua
  # fresh JonathonMA/dotfiles nvim/packer/rspec.lua # Rspec Tooling
  fresh JonathonMA/dotfiles nvim/packer/ruby-heredoc-syntax.lua # Heredoc formatting
  fresh JonathonMA/dotfiles nvim/packer/surround.lua # Easily change surronds
  fresh JonathonMA/dotfiles nvim/packer/tabular.lua # Formatting Cucumber Tables
  # fresh JonathonMA/dotfiles nvim/packer/titlecase.lua # Check out, title cases things
  # fresh JonathonMA/dotfiles nvim/packer/todo-comments.lua # Highlights comments
  # fresh JonathonMA/dotfiles nvim/packer/typography.lua # Highlights comments
  fresh JonathonMA/dotfiles nvim/packer/unimpaired.lua # T-pope Bracket Stuff
  fresh JonathonMA/dotfiles nvim/packer_after.lua
fresh-options

##### Config
fresh config/direnv.sh
fresh config/gemrc --file
fresh config/direnv.sh
fresh config/inputrc --file                                                             # TODO: Investigate
fresh jasoncodes/dotfiles config/pryrc --file

fresh asdf/bash.sh
fresh asdf/asdfrc --file
fresh asdf/tool-versions --file
fresh asdf/default-gems --file

##### Shell
fresh shell/aliases.sh
fresh shell/config/vi-mode.sh
fresh shell/config/editor.sh
fresh shell/config/history.sh

##### Executables
fresh-options --bin
  fresh freshshell/fresh bin/fresh                                                      # Fresh!
fresh-options

##### Aliases
fresh config/aliases.sh
fresh jasoncodes/dotfiles shell/aliases/git.sh

# Git
fresh-options --file=~/.gitconfig --marker=#
  fresh config/gitconfig
  fresh JonathonMA/dotfiles git/alias_before.gitconfig
  fresh JonathonMA/dotfiles 'git/aliases/*'
fresh-options

fresh JonathonMA/dotfiles xdg/share/.mrconfig --file
fresh powerline/powerline font/PowerlineSymbols.otf --file=~/.local/share/fonts/PowerlineSymbols.otf
fresh powerline/powerline font/10-powerline-symbols.conf --file=~/.config/fontconfig/conf.d/10-powerline-symbols.conf

# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-BlackIt.otf --file=~/.local/share/fonts/SourceCodePro-BlackIt.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-Black.otf --file=~/.local/share/fonts/SourceCodePro-Black.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-BoldIt.otf --file=~/.local/share/fonts/SourceCodePro-BoldIt.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-Bold.otf --file=~/.local/share/fonts/SourceCodePro-Bold.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-ExtraLightIt.otf --file=~/.local/share/fonts/SourceCodePro-ExtraLightIt.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-ExtraLight.otf --file=~/.local/share/fonts/SourceCodePro-ExtraLight.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-It.otf --file=~/.local/share/fonts/SourceCodePro-It.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-LightIt.otf --file=~/.local/share/fonts/SourceCodePro-LightIt.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-Light.otf --file=~/.local/share/fonts/SourceCodePro-Light.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-MediumIt.otf --file=~/.local/share/fonts/SourceCodePro-MediumIt.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-Medium.otf --file=~/.local/share/fonts/SourceCodePro-Medium.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-Regular.otf --file=~/.local/share/fonts/SourceCodePro-Regular.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-SemiboldIt.otf --file=~/.local/share/fonts/SourceCodePro-SemiboldIt.otf
# fresh adobe-fonts/source-code-pro --ref=release OTF/SourceCodePro-Semibold.otf --file=~/.local/share/fonts/SourceCodePro-Semibold.otf
#

if [ ! -e ~/.gitconfig.local ]; then
    echo "Configuring local Git settings:"
    read -p "    Enter Git Name: " username
    git config -f ~/.gitconfig.local user.name "$username"
    read -p "    Enter Git Email: " email
    git config -f ~/.gitconfig.local user.email $email
    echo "Configured git settings in ~/.gitconfig.local. Not stored in local .dotfiles repo."
fi
